---
import { 
  Terminal, Menu, X, Home, CreditCard, 
  LayoutGrid, LifeBuoy, Users 
} from "@lucide/astro";
---

<nav
    id="navbar"
    class="fixed w-full z-50 transition-all duration-500 bg-transparent py-4 border-b border-transparent"
>
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex items-center justify-between h-16">
            <a href="/" class="flex items-center gap-2 group">
                <div
                    class="p-2 bg-fuchsia-500/10 rounded-lg border border-fuchsia-500/20 group-hover:border-fuchsia-500/50 group-hover:shadow-[0_0_15px_rgba(217,70,239,0.3)] transition-all duration-300"
                >
                    <Terminal class="h-6 w-6 text-fuchsia-500" />
                </div>
                <span
                    class="font-bold text-xl tracking-tighter text-white uppercase"
                >
                    Arkania<span class="text-fuchsia-500">Host</span>
                </span>
            </a>

            <div
                class="hidden md:flex items-center space-x-1 font-mono text-xs uppercase tracking-widest"
            >
                <a
                    href="/"
                    class="flex items-center gap-2 px-4 py-2 text-slate-300 hover:text-white hover:bg-white/5 rounded-md transition-all"
                >
                    <Home size={14} class="mb-0.5" /> Inicio
                </a>
                
                <a
                    href="/help"
                    class="flex items-center gap-2 px-4 py-2 text-slate-400 hover:text-fuchsia-400 hover:bg-fuchsia-500/5 rounded-md transition-all"
                >
                    <LifeBuoy size={14} class="mb-0.5" /> Soporte
                </a>

                <a
                    href="/about"
                    class="flex items-center gap-2 px-4 py-2 text-slate-400 hover:text-cyan-400 hover:bg-cyan-500/5 rounded-md transition-all mr-4"
                >
                    <Users size={14} class="mb-0.5" /> Nosotros
                </a>

                <div class="flex items-center gap-3 pl-4 border-l border-white/10">
                    <a
                        href="https://billing.arkaniahost.xyz"
                        target="_blank"
                        class="flex items-center gap-2 bg-cyan-500/10 text-cyan-400 border border-cyan-500/20 px-5 py-2 rounded-sm hover:bg-cyan-500 hover:text-slate-950 hover:shadow-[0_0_20px_rgba(6,182,212,0.4)] transition-all duration-300"
                    >
                        <CreditCard size={14} /> CLIENTES
                    </a>
                    
                    <a
                        href="https://panel.arkaniahost.xyz"
                        target="_blank"
                        class="flex items-center gap-2 bg-fuchsia-500/10 text-fuchsia-400 border border-fuchsia-500/20 px-5 py-2 rounded-sm hover:bg-fuchsia-500 hover:text-white hover:shadow-[0_0_20px_rgba(217,70,239,0.4)] transition-all duration-300"
                    >
                        <LayoutGrid size={14} /> PANEL
                    </a>
                </div>
            </div>

            <button id="mobile-menu-btn" class="md:hidden text-slate-300 hover:text-white transition-colors">
                <Menu class="menu-icon block" size={28} />
                <X class="close-icon hidden" size={28} />
            </button>
        </div>
    </div>

    <div
        id="mobile-menu"
        class="hidden absolute top-full left-0 w-full bg-slate-950/95 backdrop-blur-xl border-b border-white/10 p-4 space-y-2 shadow-2xl"
    >
        <a href="/" class="flex items-center gap-3 text-slate-300 py-3 px-2 hover:bg-white/5 rounded-lg transition-colors">
            <Home size={18} class="text-fuchsia-500" /> Inicio
        </a>
        <a href="/help" class="flex items-center gap-3 text-slate-300 py-3 px-2 hover:bg-white/5 rounded-lg transition-colors">
            <LifeBuoy size={18} class="text-fuchsia-500" /> Soporte
        </a>
        <a href="/about" class="flex items-center gap-3 text-slate-300 py-3 px-2 hover:bg-white/5 rounded-lg transition-colors">
            <Users size={18} class="text-fuchsia-500" /> Nosotros
        </a>
        
        <div class="h-px bg-white/10 my-2"></div>
        
        <a
            href="https://billing.arkaniahost.xyz"
            class="flex items-center gap-3 text-cyan-400 py-3 px-2 hover:bg-cyan-500/10 rounded-lg transition-colors font-mono uppercase tracking-widest text-sm"
        >
            <CreditCard size={18} /> Área de Clientes
        </a>
        
        <a
            href="https://panel.arkaniahost.xyz"
            class="w-full flex items-center justify-center gap-2 bg-fuchsia-600 text-white font-bold py-4 rounded-sm hover:bg-fuchsia-500 transition-colors uppercase tracking-widest text-sm mt-4"
        >
            <LayoutGrid size={18} /> ENTRAR AL PANEL
        </a>
    </div>
</nav>

<script>
    // Navbar Scroll Effect
    const navbar = document.getElementById("navbar");
    
    const updateNavbar = () => {
        if (window.scrollY > 20) {
            navbar?.classList.add(
                "bg-slate-950/80",
                "backdrop-blur-xl",
                "py-2",
                "border-white/10" // Color del borde al hacer scroll
            );
            navbar?.classList.remove("bg-transparent", "py-4", "border-transparent");
        } else {
            navbar?.classList.remove(
                "bg-slate-950/80",
                "backdrop-blur-xl",
                "py-2",
                "border-white/10"
            );
            navbar?.classList.add("bg-transparent", "py-4", "border-transparent");
        }
    };

    window.addEventListener("scroll", updateNavbar);
    // Ejecutar al inicio por si se recarga la página ya scrolleada
    updateNavbar();

    // Mobile Menu
    const menuBtn = document.getElementById("mobile-menu-btn");
    const mobileMenu = document.getElementById("mobile-menu");
    const menuIcon = document.querySelector(".menu-icon");
    const closeIcon = document.querySelector(".close-icon");

    menuBtn?.addEventListener("click", () => {
        const isHidden = mobileMenu?.classList.contains("hidden");
        
        if (isHidden) {
            mobileMenu?.classList.remove("hidden");
            menuIcon?.classList.add("hidden");
            closeIcon?.classList.remove("hidden");
            // Cambiar fondo del nav cuando se abre el menú
            navbar?.classList.add("bg-slate-950"); 
        } else {
            mobileMenu?.classList.add("hidden");
            menuIcon?.classList.remove("hidden");
            closeIcon?.classList.add("hidden");
            // Restaurar fondo si estamos arriba del todo
            if (window.scrollY <= 20) {
                navbar?.classList.remove("bg-slate-950");
            }
        }
    });
</script>